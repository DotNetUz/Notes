Module 1 Course Overview
  SQL is around for 50+ years 
  How SQL work > Syntax
  Logical challenges & pitfall

  SQL Terminology & Tools
  Intricacies of SQL
  Underlying concepts of SQL & Relational Model counter part
  How data is processed by every clause of SELECT query
  How to prepare source data, filter it effectively 
  How to handle complications of missing data
  How to combine multiple Rows
  How to support presentation, ordering and paging and when NOT to   

Module 2 What Is T-SQL?
  Module Introduction
    Terminology
    Architectural Overview
    Tools

  What Is T-SQL?
    Standardized by ANSI and ISO
    1st edition published in 1986, latest in 2019
    Each vandor uses subset of and extensions to ANSI SQL standard 
    T-SQL = Transact SQL 
      used by Microsoft SQL Server and Sybase
    
    MS SQL Server = relational DB management system (RDBMS)
    Other types of Database Management System (DBMS) include:
      Hierarchal
      Object-oriented 
      Document stores 
      Key value stores
      Graph database

    Relational model  
      a data modeling paradigm based on set theory and first order predicate logic

    What is DB? Simon Allardice's 'Databases - executive briefing'

  A Little SQL Server Architecture
    SQL Server => SQL Server Services
      Core SQL DB Engine
      Macine learning 
      Integration Analysis 
      Reporting 
      Replication
      Others 

    Core SQL DB Engine can be installed on 
      Windows / Linux OS
      Docker container

    Most Cloud provider offer SQL Server as a managed cloud product 
    MS Azure has Azure SQL DB, a SQL Server DB in a platform as a Service 

    SQL Server is 
      a multi-user server
      communicated via TCP / IP port

    User and application servers use API to send queries to server and receive results from network

    Two authentication methods for users and application clients
      SQL Authentication - login credential stored internally 
      Windows Authentication - Active Directory for single sign-on scenario

    SQL Server Object Hierarchy
      OS contains 1 or more ...
      SQL Server Instance that contains 1 or more ...
      Database that contains 1 or more ...
      Schema that contains ...
      Object(s) like
        Table
        View
        Store Procedure
        others    

    Fully Qualified Object Names
      Can access every object
      Consist of 4 parts: [Instance].[Database].[Schema].Object

    Omit 
      Instance - use current instance connection
      Database - use current session's DB context
      Schema   - use dbo (database owner) or explicit default schema

  Tools
    SQL Server Instance: azure sql database also available  
    Client IDE: SSMS or Azure Data Studio
    Online tools - No persist data:
      www.sbfiddle.uk
      www.sqlfiddle.com

  Demo: Tools
  Module Review

Module 3 Our First SELECT
  Module Introduction
    Query execution order
    Terminology 
      Sets
      Expressions
      Operators
      Functions
      Aliases
      Data types
    SELECT without FROM
  What Is a SQL Query?
    Complete list of SQL clause (caluse = part of a sentence that contains a verb):
      (5) SELECT          - List of expressions to return
      (1) FROM            - Source data set, the ONLY data available for all following clauses 
      (2) WHERE           - Filter rows with predicate (a Boolean function that can return True or False)  
      (3) GROUP BY        - Rows combined into groups based on grouping expression
      (4) HAVING          - Filter whole groups instead of rows
      (6) ORDER BY        - Sort for presentation order
      (7) OFFSET - FETCH  - page specification; limit numbers of rows that will be returned 

  More Terminology
    Set - a collection of unique elements with No order (neither for Row, nor for Column); also an element on its own
    Relation - how a subset of elements related to each other which form a meaningful unit (Table)
    Tuples - a finite ordered list of elements of a relation; AKA Rows 
    Rows - unique and have NO order 
    Key - attribute(s) that ensure uniqueness of Rows, like name, ISBN or order number
    Tuple - attribute, known as Column in SQL 
    Alias 
      - name to hold datasets or individual expressions
      - by default Alias is an object's name, like "Employees" table
      - any expression involve more than just base column lose column alias (AS)

    SQL is a Stringly Typed language = every expression in SQL has a specific data type
      Numeric - integers, decimals and floating-point types
      String  - encoded in ASCII or Unicode 
      Binary  - technically a string, but usually used to store images, video and audio 
      Temporal- Time-related attributes, like date, time or combinations 
     
      Special Data Types
        Hierarchy
        Spatial
        Unstructured data type / Document (XML / JSON)
      
      What is NOT in T-SQL
        Interval  - timespan
        Boolean   - use Bit (numeric type) instead
      
      Operators and Functions
        Creates new expressions from existing ones
          Arithmetic: + - * / %
          String: SUBSTRING, UPPER, LTRIM, + 
          Date & Time: GETDATE, YEAR, DATEDIFF, DATEADD
          Bitwise: &, ^, |, ~
          Comparison: >, <, <>, =, !=, LIKE
          Logical: AND, OR, NOT, IN, ANY, BETWEEN

        User-defined functions

  Demo: First SELECT
    SELECT without FROM
    Examples:
      SELECT 'X'; -- return single row with single column and the value string 'X'
      SELECT X; -- SQL will evaluate X as identifier / alias (for a column) and gets an error b/c X does not exist
      
      SELECT 2 * 7, SQRT(2); 
        -- Expression can contains multiple sub-expressions w/ operators 
        -- separate by comma cause each one to be returned as a separate column of the reults set
      
      SELECT 2 * 7 AS Easy, SQRT(2) AS LessEasy;
        -- Use keyword AS to assign alias(column name) to expressions 

      SELECT 7 / 2; -- return 3 (integer)

      SELECT 7 / 2 * 1.00; -- return 3.00; be aware of Operator Precedence 

      SELECT 7 / (2 * 1.00); -- return 3.50  

    The preferred method to process decimal is use CAST()
      CAST() convert expression from one type to another
        CAST( expression AS datatype(length) )
      SELECT CAST(7 AS DECIMAL(5,2)) / 2; -- return 3.50
    
    Always use ISO format (YYYYMMDD) when CAST string into DATE type
      SELECT CAST('20191218' AS DATE) AS TODAY;

    Avoid implicit conversion in SQL
      SELECT '4' + 4; -- return intteger 8

  Module Review

Module 4 The FROM Clause
  Module Introduction
    FROM clause - evaluation of the source dataset of any query 
    SELECT FROM single source set
    SELECT FROM multiple source sets

  TSQL Demo Database
    
  Demo: FROM Single Table
  Introduction to Multiple Tables in FROM
  Demo: Multiple Tables
  Module Review

Module 5 Filtering with WHERE
  Module Introduction
  Understanding NULLs
  3VL (Ternary) Logic
  Logical Predicates and Operators
  Filtering with WHERE
  Module Review

Module 6 Grouping Rows
  Module Introduction
  What Is Grouping Good For?
  Grouping Rows
  Group Filtering with HAVING
  Module Review
  Evaluating SELECT Expressions
  Module Introduction

Module 7 Evaluating SELECT Expressions
Dealing with NULLs
Using DISTINCT
Module Review

Module 8 Ordering and Paging
  Module Introduction
  Law of Order
  ORDER BY
  Determinism and Tiebreakers
  Paging Result Sets
  Demo: Ordering and Paging
  Module Review

Module 9 Wrapping Up
  Module Introduction
  
  Course Review
    What is T-SQL and its root in relational model
    What is SQL Server, the ditions to use, authentication
    How to access object using fully qualified names

  Takeaway
  Feedback
  Next Steps
  Additional Resources and Conclusion