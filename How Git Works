How Git Works

Module 01: Git Is Not What You Think
Introduction
  How does Git internals work?
  Porcelain commands:
     git add
     git commit
     git push
     git pull
     git branch
     git checkout
     git merge
     git rebase
     ...
  Plumbling Commands - the basic building blocks:
    git cat-file
    git hash-object
    git count-objects
    ...
  To master Git, don't worry about learning the commands 
    - Learn The Model
    - Then comes deeper understanding of commands 

Git Is an Onion - layered
  Wikipedia: Git is a Distributed Revision Control System
  ... a simpler way to see Git - a Revision Control System
  ... a even simpler way to see Git - a Stupid Content Tracker for contensts, file and directories 
  ... at its core, Git is a Persistent Map that maps keys to values
  Following will deal with the layers from inside out
  
Meet SHA1
  At the core Git is a Map 
    - a table with keys and values
    values: any sequence of bytes, like text file or binary file
    Given a value, Git can calculate a key for it, a hash
    SHA1 is the algorithm for the calculation
    Every content has its own unique string SHA1 value
    SHA1s are 20 bytes in hexadecimal format (20 X 2 ^8) -> 40 hex digits
    These values will be the keys to store content in map
  
  Every object in Git has its own SHA1 
    so do directories and commits 
  
  What happen when SHA1 collide? Data over-write can happen, but unlikely 
    SHA1s are unique in the universe
  
Storing Things
  Git as "persistent" map:
  To make a content persistent, add "-w" to following command under Git Bash
    > echo "Apple Pie" | git hash-object --stdin -w 
  
  However, since there is no repository specified, the content cannot be saved
    thus following is displayed on console: 
    fatal: Not a git repository (or any of the parent directories): .git
  
  To create a repository, use a high level procelain command: git init
    > git init
    Initialized empty Git repository in {current working directory}/.git/
  This command creates a new hidden subdirectory called .git 

  With a repo ready, re-execute following command 
    > echo "Apple Pie" | git hash-object --stdin -w 
    23991897e13e47ed0adb91a0082c31c82fe0cbe5
  Content is now saved without issue 
  
  Inside the hidden folder .git, there is a directory named "objects"
  This is "object database" - stores objects that represents content 
  Inside "objects" directory, a directory "23" 
    "23" is the first two hexadecimal digits of the SHA1 of the fist saved content ("23"991897e13e47ed0adb91a0082c31c82fe0cbe5)    
    Inside folder 23 is a file named with the remaining digits of the SHA1 (23"991897e13e47ed0adb91a0082c31c82fe0cbe5")    
    - 991897e13e47ed0adb91a0082c31c82fe0cbe5
    This scheme prevents one single huge cluttered directory 

    The file is a "blob" of data 
      blob is a generic piece of content 
    
    However, the original content cannot be read directly 
    Git add a small header and compress content to save space

  Another plumbling command can be used to look at the content of blob directly
    > git cat-file
  git cat-file takes SHA1 as argument 
    with option -t 
      $ git cat-file 23991897e13e47ed0adb91a0082c31c82fe0cbe5 -t
      blob
    Git returns the type of file, "blob"

    with option -p 
      $ git cat-file 23991897e13e47ed0adb91a0082c31c82fe0cbe5 -p
      Apple Pie
    
    Git returns the readable content of file ("Apple Pie")
  This is the core of Git
  
First Commit!
  Git as "content tracker":
  
Versioning Made Easy
One More Thing: Annotated Tags
What Git Really Is

Module 02: Branches Demystified
Introduction
What Branches Really Are
The Mechanics of the Current Branch
Let's Merge!
Time Travel for Developers
Merging Without Merging
Losing Your HEAD
Objects and References

Module 03: Rebasing Made Simple
Introduction
What a Rebase Looks Like
An Illusion of Movement
Taking out the Garbage
The Trade-offs of Merges
The Trade-offs of Rebases
Tags in Brief
A Version Control System

Module 04: Distributed Version Control
Introduction
A World of Peers
Local and Remote
The Joy of Pushing
The Chore of Pulling
Rebase Revisited
Getting Social
The Whole Onion